(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d462"],{f794:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getData}},[e._v("\n      Refresh\n    ")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.addTop}},[e._v("\n      Add Top\n    ")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"expand-row-keys":e.expandRowKeys,"row-key":"code",border:"","default-expand-all":"","tree-props":{children:"children"}}},[a("el-table-column",{attrs:{prop:"code",label:"编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parentCode",label:"父级编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{label:"Enable",prop:"enable"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.enable||0==n.enable?a("el-tag",{attrs:{type:e.dictutil.getDictByTypeAndValue("enable_status",n.enable)["theme"]}},[e._v("\n          "+e._s(e.dictutil.getDictByTypeAndValue("enable_status",n.enable)["label"])+"\n        ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"Option","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addChildren(n.code)}}},[e._v("\n          Add Child\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.detail(n.code)}}},[e._v("\n          Edit\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.del(n.code)}}},[e._v("\n          Del\n        ")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"saveForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.saveForm,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"Code",prop:"code"}},[a("el-input",{model:{value:e.saveForm.code,callback:function(t){e.$set(e.saveForm,"code",t)},expression:"saveForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{model:{value:e.saveForm.name,callback:function(t){e.$set(e.saveForm,"name",t)},expression:"saveForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"AccessUrl",prop:"accessUrl"}},[a("el-input",{model:{value:e.saveForm.accessUrl,callback:function(t){e.$set(e.saveForm,"accessUrl",t)},expression:"saveForm.accessUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"icon",prop:"icon"}},[a("el-input",{model:{value:e.saveForm.icon,callback:function(t){e.$set(e.saveForm,"icon",t)},expression:"saveForm.icon"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"sort",prop:"sort"}},[a("el-input",{model:{value:e.saveForm.sort,callback:function(t){e.$set(e.saveForm,"sort",t)},expression:"saveForm.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Enable",prop:"enable"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.saveForm.enable,callback:function(t){e.$set(e.saveForm,"enable",t)},expression:"saveForm.enable"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveData}},[e._v("\n        Save\n      ")])],1)],1)],1)},l=[],o=a("b775");function r(){return Object(o["a"])({url:"/menu/tree",method:"get"})}function i(e){return Object(o["a"])({url:"/menu/save",method:"json",data:e})}function s(e){return Object(o["a"])({url:"/menu/detail",method:"get",data:e})}function c(e){return Object(o["a"])({url:"/menu/del",method:"post",data:e})}var d={data:function(){return{tableData:null,expandRowKeys:[],isEdit:"",dialogFormVisible:!1,saveForm:{code:"",name:"",accessUrl:"",icon:"",sort:"50",enable:1},rules:{code:[{required:!0,message:"code is required",trigger:"change"}],name:[{required:!0,message:"name is required",trigger:"change"}]}}},created:function(){this.getData()},methods:{getData:function(){var e=this;r().then((function(t){e.tableData=t.data}))},cleanSaveForm:function(){this.saveForm={code:"",name:"",parentCode:"",accessUrl:"",icon:"",sort:"50",enable:1}},addTop:function(){this.dialogFormVisible=!0,this.isEdit=!1,this.cleanSaveForm(),this.saveForm.parentCode="0"},addChildren:function(e){this.dialogFormVisible=!0,this.isEdit=!1,this.cleanSaveForm(),this.saveForm.parentCode=e},saveData:function(){var e=this;this.$refs["saveForm"].validate((function(t){t&&i(e.saveForm).then((function(t){e.getData(),e.$message.success("保存成功"),e.dialogFormVisible=!1}))}))},detail:function(e){var t=this;s({code:e}).then((function(e){t.saveForm=e.data,t.dialogFormVisible=!0}))},del:function(e){var t=this;c({code:e}).then((function(e){t.getData(),t.$message.success("删除成功")}))}}},u=d,m=a("2877"),v=Object(m["a"])(u,n,l,!1,null,null,null);t["default"]=v.exports}}]);